{"version":3,"sources":["webpack:///./src/views/Admin/Categories/CategoryList.vue?3b5a","webpack:///./src/views/Admin/Categories/CategoryList.vue","webpack:///./src/views/Admin/Categories/CategoryList.vue?21ca"],"names":["class","style","to","type","inputs","searchFormData","handleSearch","handleClear","categories","length","onExportExcels","loading","category","key","id","name","src","image","alt","description","projects","link","path","title","onConfirm","_id","reference","onExport","data","file","formSearch","total","created","this","fetchCategories","computed","inputType","label","attributes","clearable","trim","$store","getters","mounted","eventRefresh","methods","onDelete","page","dispatch","totalCount","form","refs","validate","valid","console","log","resetFields","err","then","$t","render","__scopeId"],"mappings":"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","file":"js/chunk-52c7a052.b6e40f2c.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CategoryList.vue?vue&type=style&index=0&id=34b61bd0&scoped=true&lang=css\"","<template>\r\n  <div class=\"content\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h4 class=\"card-title\">All Categories</h4>\r\n          </div>\r\n          <router-link\r\n            :to=\"{ name: 'CategoryAdd' }\"\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n          >\r\n            Add Category\r\n          </router-link>\r\n          <card-search-form>\r\n            <search-form\r\n              :inputs=\"searchFormData.inputs\"\r\n              :handleSearch=\"handleSearch\"\r\n              :handleClear=\"handleClear\"\r\n            >\r\n            </search-form>\r\n          </card-search-form>\r\n          <div class=\"related-btn\">\r\n            <b class=\"fix-quantity\">Quantity: {{ categories.length }}</b>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-success\"\r\n              @click=\"onExportExcels\"\r\n            >\r\n              Export Excel\r\n            </button>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"loading\"><architect-loading></architect-loading></div>\r\n            <div class=\"table-responsive\" v-else-if=\"!loading && categories\">\r\n              <table class=\"table table-bordered\">\r\n                <thead class=\" text-primary\">\r\n                  <th>\r\n                    Name\r\n                  </th>\r\n                  <th>\r\n                    Logo Image\r\n                  </th>\r\n                  <th>\r\n                    Description\r\n                  </th>\r\n                  <th style=\"width: 160px;\">\r\n                    Related Projects\r\n                  </th>\r\n                  <th>\r\n                    Actions\r\n                  </th>\r\n                </thead>\r\n                <tbody v-for=\"category in categories\" :key=\"category.id\">\r\n                  <tr>\r\n                    <td>\r\n                      {{ category.name }}\r\n                    </td>\r\n                    <td>\r\n                      <img :src=\"category.image\" :alt=\"category.name\" />\r\n                    </td>\r\n                    <td>\r\n                      {{ category.description }}\r\n                    </td>\r\n                    <td v-if=\"category.projects\">\r\n                      {{ category.projects.length }}\r\n                    </td>\r\n                    <td v-else>\r\n                      No projects\r\n                    </td>\r\n                    <td style=\"width: 80px\">\r\n                      <architect-button\r\n                        link\r\n                        :path=\"\r\n                          '/dashboard/categories/editCategory/' + category._id\r\n                        \"\r\n                        class=\"edit-btn\"\r\n                        ><i class=\"far fa-edit\"></i\r\n                      ></architect-button>\r\n                      <el-popconfirm\r\n                        title=\"Are you sure to delete this category?\"\r\n                        @confirm=\"onConfirm(category._id)\"\r\n                      >\r\n                        <template #reference>\r\n                          <i class=\"far fa-trash-alt\"></i>\r\n                        </template>\r\n                      </el-popconfirm>\r\n                      <i\r\n                        class=\"fas fa-file-export\"\r\n                        @click=\"onExport(category._id)\"\r\n                      ></i>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div v-else>There is no categories !</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      file: \"\",\r\n      formSearch: {},\r\n      total: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCategories();\r\n  },\r\n  computed: {\r\n    searchFormData: function() {\r\n      return {\r\n        inputs: [\r\n          {\r\n            inputType: \"input\",\r\n            label: \"Name\",\r\n            name: \"name\",\r\n            attributes: { clearable: true },\r\n            trim: true,\r\n          },\r\n          {\r\n            inputType: \"input\",\r\n            label: \"Description\",\r\n            name: \"description\",\r\n            attributes: { clearable: true },\r\n            trim: true,\r\n          },\r\n        ],\r\n      };\r\n    },\r\n    categories() {\r\n      return this.$store.getters[\"categories/getCategories\"];\r\n    },\r\n  },\r\n  async mounted() {\r\n    await this.eventRefresh();\r\n  },\r\n  methods: {\r\n    async onConfirm(id) {\r\n      await this.onDelete(id);\r\n    },\r\n    async eventRefresh(page) {\r\n      this.loading = true;\r\n      await this.$store.dispatch(\"categories/index\", {\r\n        page: page || 1,\r\n        ...this.formSearch,\r\n      });\r\n      this.total = this.categories.totalCount;\r\n      this.loading = false;\r\n    },\r\n    async handleSearch(form, refs) {\r\n      this.formSearch = form;\r\n      await this.eventRefresh();\r\n      refs.validate((valid) => {\r\n        console.log(valid);\r\n      });\r\n    },\r\n    async handleClear(form, refs) {\r\n      await this.$store.dispatch(\"categories/index\", { page: 1 });\r\n      refs.resetFields();\r\n      this.total = this.categories.totalCount;\r\n    },\r\n    async onDelete(id) {\r\n      try {\r\n        await this.$store.dispatch(\"categories/onDeleteCategory\", id);\r\n      } catch (error) {\r\n        this.err = error;\r\n      }\r\n    },\r\n    async fetchCategories() {\r\n      this.loading = true;\r\n      try {\r\n        await this.$store\r\n          .dispatch(\"categories/fetchAllCategories\")\r\n          .then(() => (this.loading = false));\r\n      } catch (error) {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async onExport(id) {\r\n      try {\r\n        await this.$store.dispatch(\"categories/getExcelFileById\", id);\r\n      } catch (error) {\r\n        this.err = error || this.$t(\"fail\");\r\n      }\r\n    },\r\n    async onExportExcels() {\r\n      try {\r\n        await this.$store.dispatch(\"categories/getExcelFiles\");\r\n      } catch (error) {\r\n        this.err = error || this.$t(\"fail\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.fa {\r\n  cursor: pointer;\r\n}\r\n\r\n.fix-position-input {\r\n  width: 40%;\r\n  left: 58%;\r\n  transform: translateY(-35px);\r\n  outline: none;\r\n}\r\n\r\n.fa-trash-alt:hover {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.edit-btn {\r\n  float: left;\r\n}\r\n\r\n.edit-btn:hover {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.fa:hover,\r\n.fas:hover,\r\n.far:hover {\r\n  transform: scale(0.9);\r\n}\r\n\r\n.fa-file-export {\r\n  color: rgb(39, 131, 198);\r\n  margin-left: 7px;\r\n  cursor: pointer;\r\n}\r\n\r\n.related-btn {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-right: 20px;\r\n}\r\n\r\n.btn-success:hover {\r\n  border-color: #28a745;\r\n}\r\n.btn-info {\r\n  background-color: #409eff;\r\n}\r\n.btn {\r\n  font-size: 12px;\r\n}\r\n</style>\r\n","import { render } from \"./CategoryList.vue?vue&type=template&id=34b61bd0&scoped=true\"\nimport script from \"./CategoryList.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryList.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryList.vue?vue&type=style&index=0&id=34b61bd0&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-34b61bd0\"\n\nexport default script"],"sourceRoot":""}