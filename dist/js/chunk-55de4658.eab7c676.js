(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55de4658"],{"1e66":function(e,t,r){},"892a":function(e,t,r){},c66d:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["ib"])("data-v-19601fe0");Object(n["I"])("data-v-19601fe0");var o={class:"container rounded bg-white"};Object(n["G"])();var c=a((function(e,t,r,a,c,s){var i=Object(n["O"])("profile-form");return Object(n["F"])(),Object(n["j"])("div",o,[Object(n["o"])(i)])})),s=(r("b0c0"),Object(n["ib"])("data-v-2d68d000"));Object(n["I"])("data-v-2d68d000");var i={class:"flex"},l={class:"col-md-4"},u={key:0,class:"fix-avatar"},d={class:"p-3 py-5"},b={class:"d-flex justify-content-between align-items-center mb-3"},f={class:"text-right"},h={class:"row mt-2"},m={class:"col-md-12"},p=Object(n["o"])("label",{class:"labels"},"Username",-1),j={class:"row mt-2"},O={class:"col-md-12"},v=Object(n["o"])("label",{class:"labels"},"Email",-1),y={class:"row mt-3"},g={class:"col-md-12"},w=Object(n["o"])("label",{class:"labels"},"Phone Number",-1),x={class:"col-md-12"},$=Object(n["o"])("label",{class:"labels"},"Address",-1),U={class:"col-md-12"},A=Object(n["o"])("label",{class:"labels"},"Birthday",-1),E={class:"col-md-12"},R=Object(n["o"])("label",{class:"labels"},"Role",-1),D={class:"col-md-12"},_=Object(n["o"])("label",{class:"labels"},"City",-1),k={class:"col-md-12"},P=Object(n["o"])("label",{class:"labels"},"Province",-1),T={class:"mt-5 text-center"},C={class:"btn btn-primary fixed-button",type:"submit"};Object(n["G"])();var F=s((function(e,t,r,a,o,c){var F=Object(n["O"])("architect-loading"),I=Object(n["O"])("architect-dialog");return Object(n["F"])(),Object(n["j"])("div",null,[Object(n["o"])(I,{show:o.loading,title:"Authenticating..."},{default:s((function(){return[Object(n["o"])(F)]})),_:1},8,["show"]),Object(n["o"])(I,{show:!!o.error,title:"An error occurred",onClose:c.clearError,fixed:""},{default:s((function(){return[Object(n["o"])("p",null,Object(n["S"])(o.error),1)]})),_:1},8,["show","onClose"]),Object(n["o"])(I,{show:!!o.notify,title:"Notification",onClose:c.clearNotify,fixed:""},{default:s((function(){return[Object(n["o"])("p",null,Object(n["S"])(o.notify),1)]})),_:1},8,["show","onClose"]),Object(n["o"])("div",i,[Object(n["o"])("div",l,[Object(n["o"])("form",{id:"uploadForm",enctype:"multipart/form-data",class:"d-flex flex-column align-items-center text-center p-3 py-5",onSubmit:t[2]||(t[2]=Object(n["hb"])((function(e){return c.onUpload()}),["prevent"]))},[c.user?(Object(n["F"])(),Object(n["j"])("div",u,[Object(n["o"])("img",{class:"rounded-circle mt-5",src:c.avatar},null,8,["src"])])):Object(n["k"])("",!0),Object(n["o"])("input",{type:"file",ref:"file",id:"file",onChange:t[1]||(t[1]=function(){return c.onFileChange&&c.onFileChange.apply(c,arguments)}),name:"file"},null,544),Object(n["o"])("input",{type:"submit",button:"",class:"change-avatar",value:c.update},null,8,["value"])],32)]),c.user?(Object(n["F"])(),Object(n["j"])("form",{key:0,onSubmit:t[11]||(t[11]=Object(n["hb"])((function(e){return c.onSave()}),["prevent"])),class:"col-md-8"},[Object(n["o"])("div",null,[Object(n["o"])("div",d,[Object(n["o"])("div",b,[Object(n["o"])("h4",f,Object(n["S"])(e.$t("update-profile")),1)]),Object(n["o"])("div",h,[Object(n["o"])("div",m,[p,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"name",class:"form-control",placeholder:"Enter your name","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.name=e}),required:""},null,512),[[n["ab"],c.name]])])]),Object(n["o"])("div",j,[Object(n["o"])("div",O,[v,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"email",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.email=e}),disabled:""},null,512),[[n["ab"],c.email]])])]),Object(n["o"])("div",y,[Object(n["o"])("div",g,[w,Object(n["fb"])(Object(n["o"])("input",{type:"number",name:"number",class:"form-control",placeholder:"Enter phone number","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.phone=e}),required:""},null,512),[[n["ab"],c.phone]])]),Object(n["o"])("div",x,[$,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"address",class:"form-control",placeholder:"enter address","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.address=e}),required:""},null,512),[[n["ab"],c.address]])]),Object(n["o"])("div",U,[A,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"birthday",class:"form-control",placeholder:"Birthday","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.birthday=e}),required:""},null,512),[[n["ab"],c.birthday]])]),Object(n["o"])("div",E,[R,Object(n["fb"])(Object(n["o"])("input",{name:"role",type:"text",class:"form-control",placeholder:"Role","onUpdate:modelValue":t[8]||(t[8]=function(e){return c.role=e}),disabled:"",required:""},null,512),[[n["ab"],c.role]])]),Object(n["o"])("div",D,[_,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"birthday",class:"form-control",placeholder:"City","onUpdate:modelValue":t[9]||(t[9]=function(e){return c.city=e}),disabled:""},null,512),[[n["ab"],c.city]])]),Object(n["o"])("div",k,[P,Object(n["fb"])(Object(n["o"])("input",{type:"text",name:"province",class:"form-control",placeholder:"Province","onUpdate:modelValue":t[10]||(t[10]=function(e){return c.province=e}),disabled:""},null,512),[[n["ab"],c.province]])])]),Object(n["o"])("div",T,[Object(n["o"])("button",C,Object(n["S"])(e.$t("save")),1)])])])],32)):Object(n["k"])("",!0)])])})),I=r("1da1"),V=(r("96cf"),{data:function(){return{error:null,loading:!1,formIsInvalid:!1,notify:null,fileUpload:null}},mounted:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchDetailUser();case 2:case"end":return t.stop()}}),t)})))()},computed:{update:function(){return this.$t("upload")},avatar:{get:function(){return this.$store.state.auth.user.avatar},set:function(e){this.$store.commit("auth/UPDATE_AVATAR",e)}},name:{get:function(){return this.$store.state.auth.user.name},set:function(e){this.$store.commit("auth/UPDATE_NAME",e)}},email:{get:function(){return this.$store.state.auth.user.email}},phone:{get:function(){return this.$store.state.auth.user.phone},set:function(e){this.$store.commit("auth/UPDATE_PHONE",e)}},address:{get:function(){return this.$store.state.auth.user.address},set:function(e){this.$store.commit("auth/UPDATE_ADDRESS",e)}},birthday:{get:function(){return this.$store.state.auth.user.birthday},set:function(e){this.$store.commit("auth/UPDATE_BIRTHDAY",e)}},city:{get:function(){return this.$store.state.auth.user.city},set:function(e){this.$store.commit("auth/UPDATE_CITY",e)}},province:{get:function(){return this.$store.state.auth.user.province},set:function(e){this.$store.commit("auth/UPDATE_PROVINCE",e)}},role:{get:function(){return this.$store.state.auth.user.role}},file:{get:function(){return this.$store.state.auth.user.avatar},set:function(e){this.$store.commit("auth/UPDATE_AVATAR",e)}},isAuth:function(){return this.$store.getters["auth/isAuth"]},user:function(){return this.$store.getters["auth/user"]}},methods:{fetchDetailUser:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("auth/fetchDetailUser");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.error=t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onSave:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r={name:e.name,email:e.email,phone:e.phone,address:e.address,birthday:e.birthday,city:e.city,province:e.province},t.prev=2,t.next=5,e.$store.dispatch("auth/updateDetailUser",r).then((function(){return e.notify=e.$t("update-success")}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](2),e.error=t.t0||e.$t("fail");case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()},clearError:function(){this.error=null},clearNotify:function(){this.notify=null},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createImage(t[0])},createImage:function(e){var t=this;this.fileUpload=e;var r=new FileReader;r.onload=function(e){t.file=e.target.result},r.readAsDataURL(e)},onUpload:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("auth/updateAvatar",e.fileUpload);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.response.data.error||"Fail to update";case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}});r("d24d");V.render=F,V.__scopeId="data-v-2d68d000";var S=V,N={components:{ProfileForm:S}};r("e727");N.render=c,N.__scopeId="data-v-19601fe0";t["default"]=N},d24d:function(e,t,r){"use strict";r("892a")},e727:function(e,t,r){"use strict";r("1e66")}}]);
//# sourceMappingURL=chunk-55de4658.eab7c676.js.map