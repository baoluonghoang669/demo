(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66e6de72"],{"07b7":function(e,t,n){"use strict";n("3318")},3318:function(e,t,n){},"631a":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),a=Object(r["ib"])("data-v-2b7b254a");Object(r["I"])("data-v-2b7b254a");var c={class:"content"},i={class:"row"},s={class:"col-md-12"},o={class:"card"},l=Object(r["o"])("div",{class:"card-header"},[Object(r["o"])("h4",{class:"card-title"},"All Users")],-1),u=Object(r["n"])(" Add User "),b={class:"related-btn"},d={class:"fix-quantity"},p={class:"fix-flex"},h=Object(r["n"])("Excel File: "),f={class:"card-body"},O={key:0},j={key:1,class:"table-responsive"},m={class:"table table-bordered"},v=Object(r["o"])("thead",{class:" text-primary"},[Object(r["o"])("th",null," Name "),Object(r["o"])("th",null," Email "),Object(r["o"])("th",null," Address "),Object(r["o"])("th",null," Birthday "),Object(r["o"])("th",null," Phone "),Object(r["o"])("th",null," City "),Object(r["o"])("th",null," Province "),Object(r["o"])("th",null," Role "),Object(r["o"])("th",null," Actions ")],-1),x=Object(r["o"])("i",{class:"far fa-edit"},null,-1),g=Object(r["o"])("i",{class:"far fa-trash-alt"},null,-1),w={key:2};Object(r["G"])();var k=a((function(e,t,n,k,y,R){var A=Object(r["O"])("router-link"),C=Object(r["O"])("search-form"),E=Object(r["O"])("card-search-form"),F=Object(r["O"])("architect-loading"),S=Object(r["O"])("architect-button"),U=Object(r["O"])("el-popconfirm");return Object(r["F"])(),Object(r["j"])("div",c,[Object(r["o"])("div",i,[Object(r["o"])("div",s,[Object(r["o"])("div",o,[l,Object(r["o"])(A,{to:{name:"UserAdd"},type:"button",class:"btn btn-primary"},{default:a((function(){return[u]})),_:1}),Object(r["o"])(E,null,{default:a((function(){return[Object(r["o"])(C,{inputs:R.searchFormData.inputs,handleSearch:R.handleSearch,handleClear:R.handleClear},null,8,["inputs","handleSearch","handleClear"])]})),_:1}),Object(r["o"])("div",b,[Object(r["o"])("b",d,"Quantity: "+Object(r["S"])(R.users.length),1),Object(r["o"])("label",p,[h,Object(r["o"])("input",{type:"file",id:"file",ref:"file",onChange:t[1]||(t[1]=function(e){return R.handleFileUpload()})},null,544)]),Object(r["o"])("button",{type:"button",class:"btn btn-info",onClick:t[2]||(t[2]=function(){return R.onImportExcels&&R.onImportExcels.apply(R,arguments)})}," Import Excel "),Object(r["o"])("button",{type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=function(){return R.onExportExcels&&R.onExportExcels.apply(R,arguments)})}," Export Excel ")]),Object(r["o"])("div",f,[y.loading?(Object(r["F"])(),Object(r["j"])("div",O,[Object(r["o"])(F)])):!y.loading&&R.users&&R.users.length>0?(Object(r["F"])(),Object(r["j"])("div",j,[Object(r["o"])("table",m,[v,(Object(r["F"])(!0),Object(r["j"])(r["b"],null,Object(r["M"])(R.users,(function(e){return Object(r["F"])(),Object(r["j"])("tbody",{key:e.id},[Object(r["o"])("tr",null,[Object(r["o"])("td",null,Object(r["S"])(e.name),1),Object(r["o"])("td",null,Object(r["S"])(e.email),1),Object(r["o"])("td",null,Object(r["S"])(e.address),1),Object(r["o"])("td",null,Object(r["S"])(y.formatDate(e.birthday,"DD/MM/YYYY HH:mm")),1),Object(r["o"])("td",null,Object(r["S"])(e.phone),1),Object(r["o"])("td",null,Object(r["S"])(e.city),1),Object(r["o"])("td",null,Object(r["S"])(e.province),1),Object(r["o"])("td",null,Object(r["S"])(e.role),1),Object(r["o"])("td",null,[Object(r["o"])(S,{link:"",path:"/dashboard/users/editUser/"+e._id,class:"edit-btn"},{default:a((function(){return[x]})),_:2},1032,["path"]),Object(r["o"])(U,{title:"Are you sure to delete this user?",onConfirm:function(t){return R.onConfirm(e._id)}},{reference:a((function(){return[g]})),_:2},1032,["onConfirm"]),Object(r["o"])("i",{class:"fas fa-file-export",onClick:function(t){return R.onExport(e._id)}},null,8,["onClick"])])])])})),128))])])):(Object(r["F"])(),Object(r["j"])("div",w,"There is no users !"))])])])])])})),y=n("5530"),R=n("1da1"),A=(n("d81d"),n("96cf"),n("87ea")),C={data:function(){return{show:!1,err:null,loading:!1,file:"",formSearch:{},total:0,cities:null,formatDate:A["a"]}},created:function(){this.fetchAllUsers()},watch:{users:function(){return this.$store.getters["userAdmin/getUsers"]}},computed:{users:function(){return this.$store.getters["userAdmin/getUsers"]},searchFormData:function(){return{inputs:[{inputType:"input",label:"Name",name:"name",attributes:{clearable:!0},trim:!0},{inputType:"input",label:"Email",name:"email",attributes:{clearable:!0},trim:!0},{inputType:"select",label:"City",name:"city",attributes:{clearable:!0,filterable:!0},trim:!0,optionValueField:"value",optionLabelField:"label",optionList:this.cities},{inputType:"input",label:"Address",name:"address",attributes:{clearable:!0},trim:!0}]}}},mounted:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.eventRefresh();case 2:return t.next=4,e.fetchCities();case 4:case"end":return t.stop()}}),t)})))()},methods:{onConfirm:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.onDelete(e);case 2:case"end":return n.stop()}}),n)})))()},fetchCities:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("userAdmin/getCities");case 2:n=t.sent,e.cities=n.map((function(e){return{label:e.province_name,value:e.province_name}}));case 4:case"end":return t.stop()}}),t)})))()},eventRefresh:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,t.$store.dispatch("userAdmin/index",Object(y["a"])({page:e||1},t.formSearch));case 3:t.total=t.users.totalCount,t.loading=!1;case 5:case"end":return n.stop()}}),n)})))()},handleSearch:function(e,t){var n=this;return Object(R["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.formSearch=e,r.next=3,n.eventRefresh();case 3:t.validate((function(e){console.log(e)}));case 4:case"end":return r.stop()}}),r)})))()},handleClear:function(e,t){var n=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch("userAdmin/index",{page:1});case 2:t.resetFields(),n.total=n.users.totalCount;case 4:case"end":return e.stop()}}),e)})))()},onOpen:function(){this.show=!0},clearForm:function(){this.show=!1},onDelete:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("userAdmin/onDeleteUser",e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),t.err=n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},fetchAllUsers:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$store.dispatch("userAdmin/fetchAllUsers");case 4:e.loading=!1,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.err=t.t0,e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},onExport:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("userAdmin/getExcelFileById",e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),t.err=n.t0||"Fail to get";case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},onExportExcels:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("userAdmin/getExcelFiles");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),e.err=t.t0||"Fail to get";case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onImportExcels:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.file){t.next=3;break}return alert("Please import a excel file"),t.abrupt("return");case 3:return e.loading=!0,n=new FormData,n.append("file",e.file),t.prev=6,t.next=9,e.$store.dispatch("userAdmin/importExcels",n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](6),e.err=t.t0||e.$t("fail");case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[6,11]])})))()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}};n("07b7");C.render=k,C.__scopeId="data-v-2b7b254a";t["default"]=C}}]);
//# sourceMappingURL=chunk-66e6de72.5877a64e.js.map