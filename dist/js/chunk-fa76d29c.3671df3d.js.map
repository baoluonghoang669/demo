{"version":3,"sources":["webpack:///./src/views/Admin/Reviews/ReviewList.vue","webpack:///./src/views/Admin/Reviews/ReviewList.vue?b71a","webpack:///./src/views/Admin/Reviews/ReviewList.vue?8dcd"],"names":["class","inputs","searchFormData","handleSearch","handleClear","reviews","length","type","onExportExcels","loading","review","key","id","comment","rating","project","name","user","link","path","_id","title","onConfirm","reference","onExport","components","ArchitectButton","data","err","file","dialogVisible","formSearch","total","created","this","fetchAllReviews","computed","inputType","label","attributes","clearable","trim","$store","getters","mounted","eventRefresh","methods","onDelete","page","dispatch","totalCount","form","refs","validate","valid","console","log","resetFields","handleClose","done","$confirm","then","catch","$t","render","__scopeId"],"mappings":"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","file":"js/chunk-fa76d29c.3671df3d.js","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h4 class=\"card-title\">All Reviews</h4>\r\n          </div>\r\n          <card-search-form>\r\n            <search-form\r\n              :inputs=\"searchFormData.inputs\"\r\n              :handleSearch=\"handleSearch\"\r\n              :handleClear=\"handleClear\"\r\n            >\r\n            </search-form>\r\n          </card-search-form>\r\n          <div class=\"related-btn\">\r\n            <b class=\"fix-quantity\">Quantity: {{ reviews.length }}</b>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-success\"\r\n              @click=\"onExportExcels\"\r\n            >\r\n              Export Excel\r\n            </button>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"loading\"><architect-loading></architect-loading></div>\r\n            <div\r\n              class=\"table-responsive\"\r\n              v-else-if=\"!loading && reviews && reviews.length > 0\"\r\n            >\r\n              <table class=\"table table-bordered\">\r\n                <thead class=\" text-primary\">\r\n                  <th>\r\n                    Comment\r\n                  </th>\r\n                  <th>\r\n                    Rating\r\n                  </th>\r\n                  <th>\r\n                    Related Projects\r\n                  </th>\r\n                  <th>\r\n                    User\r\n                  </th>\r\n                  <th>\r\n                    Actions\r\n                  </th>\r\n                </thead>\r\n                <tbody v-for=\"review in reviews\" :key=\"review.id\">\r\n                  <tr>\r\n                    <td>\r\n                      {{ review.comment }}\r\n                    </td>\r\n                    <td>\r\n                      {{ review.rating }}\r\n                    </td>\r\n                    <td v-if=\"review.project\">\r\n                      {{ review.project.name }}\r\n                    </td>\r\n                    <td v-else>No project!</td>\r\n                    <td v-if=\"review.user\">\r\n                      {{ review.user.name }}\r\n                    </td>\r\n                    <td v-else>No user!</td>\r\n                    <td class=\"flex-edit\">\r\n                      <architect-button\r\n                        link\r\n                        :path=\"'/dashboard/reviews/editReview/' + review._id\"\r\n                        ><i class=\"far fa-edit\"></i\r\n                      ></architect-button>\r\n                      <el-popconfirm\r\n                        title=\"Are you sure to delete this review?\"\r\n                        @confirm=\"onConfirm(review._id)\"\r\n                      >\r\n                        <template #reference>\r\n                          <i class=\"far fa-trash-alt\"></i>\r\n                        </template>\r\n                      </el-popconfirm>\r\n                      <i\r\n                        class=\"fas fa-file-export\"\r\n                        @click=\"onExport(review._id)\"\r\n                      ></i>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div v-else>There is no reviews !</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ArchitectButton from \"../../../components/common/ArchitectButton.vue\";\r\nexport default {\r\n  components: { ArchitectButton },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      err: null,\r\n      file: \"\",\r\n      dialogVisible: false,\r\n      formSearch: {},\r\n      total: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchAllReviews();\r\n  },\r\n  computed: {\r\n    searchFormData: function() {\r\n      return {\r\n        inputs: [\r\n          {\r\n            inputType: \"input\",\r\n            label: \"Rating\",\r\n            name: \"rating\",\r\n            attributes: { clearable: true },\r\n            trim: true,\r\n          },\r\n          {\r\n            inputType: \"input\",\r\n            label: \"Comment\",\r\n            name: \"comment\",\r\n            attributes: { clearable: true },\r\n            trim: true,\r\n          },\r\n        ],\r\n      };\r\n    },\r\n    reviews() {\r\n      return this.$store.getters[\"reviews/getReviews\"];\r\n    },\r\n  },\r\n  async mounted() {\r\n    await this.eventRefresh();\r\n  },\r\n  methods: {\r\n    async onConfirm(id) {\r\n      await this.onDelete(id);\r\n    },\r\n    async eventRefresh(page) {\r\n      this.loading = true;\r\n      await this.$store.dispatch(\"reviews/index\", {\r\n        page: page || 1,\r\n        ...this.formSearch,\r\n      });\r\n      this.total = this.reviews.totalCount;\r\n      this.loading = false;\r\n    },\r\n    async handleSearch(form, refs) {\r\n      this.formSearch = form;\r\n      await this.eventRefresh();\r\n      refs.validate((valid) => {\r\n        console.log(valid);\r\n      });\r\n    },\r\n    async handleClear(form, refs) {\r\n      await this.$store.dispatch(\"reviews/index\", { page: 1 });\r\n      refs.resetFields();\r\n      this.total = this.reviews.totalCount;\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm(\"Are you sure to close this dialog?\")\r\n        .then(() => {\r\n          done();\r\n          this.dialogVisible = false;\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    async onDelete(id) {\r\n      try {\r\n        await this.$store.dispatch(\"reviews/onDeleteReview\", id);\r\n      } catch (error) {\r\n        this.err = error;\r\n      }\r\n      this.dialogVisible = false;\r\n    },\r\n    async fetchAllReviews() {\r\n      try {\r\n        await this.$store.dispatch(\"reviews/fetchAllReviews\");\r\n      } catch (error) {\r\n        this.err = error;\r\n      }\r\n    },\r\n\r\n    async onExport(id) {\r\n      try {\r\n        await this.$store.dispatch(\"reviews/getExcelFileById\", id);\r\n      } catch (error) {\r\n        this.err = error || this.$t(\"fail\");\r\n      }\r\n    },\r\n    async onExportExcels() {\r\n      try {\r\n        await this.$store.dispatch(\"reviews/getExcelFiles\");\r\n      } catch (error) {\r\n        this.err = error || this.$t(\"fail\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.btn-info {\r\n  background-color: #409eff;\r\n}\r\n.btn {\r\n  font-size: 12px;\r\n}\r\n.btn-success:hover {\r\n  border-color: #28a745;\r\n}\r\n.fa {\r\n  cursor: pointer;\r\n}\r\n.flex-edit {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.fix-position-input {\r\n  width: 40%;\r\n  left: 58%;\r\n  transform: translateY(-35px);\r\n  outline: none;\r\n}\r\n\r\n.fa-file-export {\r\n  color: rgb(39, 131, 198);\r\n  margin-left: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.related-btn {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-right: 20px;\r\n}\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.fa-trash-alt {\r\n  padding: 0 4px;\r\n}\r\n.fix-dialog {\r\n  background-color: rgba(0, 0, 0, 0.1) !important;\r\n}\r\n</style>\r\n","import { render } from \"./ReviewList.vue?vue&type=template&id=325f18fe&scoped=true\"\nimport script from \"./ReviewList.vue?vue&type=script&lang=js\"\nexport * from \"./ReviewList.vue?vue&type=script&lang=js\"\n\nimport \"./ReviewList.vue?vue&type=style&index=0&id=325f18fe&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-325f18fe\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReviewList.vue?vue&type=style&index=0&id=325f18fe&scoped=true&lang=css\""],"sourceRoot":""}